<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
  <!-- This file was converted to xhtml by Writer2xhtml ver. 0.5. See http://www.hj-gym.dk/~hj/writer2latex for more info. -->
  <head profile="http://dublincore.org/documents/dcq-html/">
    <title>Loading and merging data</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC" />
    <meta content="Loading and merging data" name="DC.title" />
    <meta content="" name="DC.subject" />
    <meta content="" name="DC.description" />
    <meta content="" name="DC.creator" />
    <meta content="2008-07-02T15:01:29" name="DC.date" />
    <meta content="en-US" name="DC.language" />
    <link href="styles/caddis.css" media="all" rel="stylesheet" type="text/css" />
  </head>
  <body dir="ltr">
    <div id="TOC7Cregion">
      <div id="TableofContents1">
        <p class="ContentsHeading">Table of Contents</p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc0">Loading data</a>
        </p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc1">Loading data example</a>
        </p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc2"></a>
        </p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc3">Merging data</a>
        </p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc4"></a>
        </p>
        <p class="Contents1">
          <span class="SectionNumber"></span>
          <a href="#toc5">Merge example</a>
        </p>
      </div>
      <p class="Standard"></p>
    </div>
    <div id="MainContent7Cregion">
      <p class="Title">
        <b>CADStat: Statistical Tools for Causal Analysis</b>
      </p>
      <p class="Title">
        <b>Loading and merging data</b>
      </p>
      <p></p>
      <h1 id="toc0"><span class="SectionNumber"></span>Loading data</h1>
      <p><b>User data </b>can be loaded by selecting <i>File -&gt; Load Data.</i></p>
      <p>
        <i></i>
      </p>
      <div style="text-align:center">
          <img alt="Screenshot of JGR console. The Load Data submenu under the File tab has been selected." class="frameGraphics" id="graphics17Cgraphics" src="../img/loaddata-img1.png" style="width:480.0px;height:266.98563px" />
      </div>
      <p>
        <i></i>
      </p>
      <p>
        <i></i>
      </p>
      <p>Selecting this option brings up a dialog box that allows the user to navigate to and select the file to be loaded. </p>
      <p></p>
      <p>Data must be in a simple table form with delimited fields and with the first row containing the column names. The default delimiter is a tab (\t), but other possibilities (comma, semicolon, etc.) can be selected.  The file is saved in CADStat as the name specified in the <b><tt>read.table(...) -&gt;</tt></b><tt> </tt>box.  </p>
      <p>The dialog box for loading data can also be accessed by selecting the <tt>Browse</tt> option from within any of the analytical tools.</p>
      <p></p>
      <h1 id="toc1"><span class="SectionNumber"></span>Loading data example</h1>
      <p></p>
      <p>To load example data provided with CADStat, launch the Data Merge dialog (<i>Packages & Data -> Data Merge</i>) and navigate to CADStat's R directory, for example: <tt>C:/Program Files/R/R-3.3.0/library/CADStat/extdata.</tt></p>
      <div style="text-align:center">
        <img alt="Screenshot of 'Load Data' dialog page. envdata.or.txt in the extdata directory of the CADStat package has been selected." class="frameGraphics" id="graphics67Cgraphics" src="../img/loaddata-img3.png" style="width:534.00964px;height:386.9856px" />
      </div>
	  <p>Loading delimited text files may prompt you to confirm the Record Seperator and Quote symbols:</p>
      <div style="text-align:center">
        <img alt="Screenshot of 'Read Delimited File' dialog page." class="frameGraphics" id="graphics67Cgraphics" src="../img/loaddata-img3-b.png" style="width:534.00964px;height:386.9856px" />
      </div>
	  <dl>
	  <dt><b>Record Seperator</b></dt>
	  <dd>Specifies which character separates entries in a data file.</dd>
	  </dl>
	  <dl>
	  <dt><b>Quote</b></dt>
	  <dd>Specifies which character denotes the boundaries of a quote.</dd>
	  </dl>
	  
      <p>
        <tt></tt>
      </p>
      <h1 id="toc2">
        <span class="SectionNumber"></span>
      </h1>
      <p>If you would like to try the merging data example (see below), load datasets <a href="datasets/envdata.or.htm"><tt>envdata.or.txt</tt></a> and <tt>refids.or.txt.</tt></p>
      <h1 id="toc3"><span class="SectionNumber"></span>Merging data</h1>
      <p>This module is a utility for combining two datasets into one by matching the two datasets based on 1 or more unique sample identifiers.  </p>
      <p>The data merge module is initiated by choosing <i>Tools -&gt; Data Merge</i> from the menus.  </p>
      <p></p>
      <div style="text-align:center">
          <img alt="Screenshot of JGR console. The Data Merge submenu of the Packages & Data tab has been selected." class="frameGraphics" id="graphics37Cgraphics" src="../img/loaddata-img4.png" style="width:480.0px;height:231.98401px" />
      </div>
      <p></p>
      <p>The following dialog box should appear:</p>
      <p></p>
      <div style="text-align:center">
          <img alt="Screenshot of the Data Merge dialog page." class="frameGraphics" id="graphics47Cgraphics" src="../img/loaddata-img5.png" style="width:519.984px;height:381.01437px" />
      </div>
      <h1 id="toc4">
        <span class="SectionNumber"></span>
      </h1>
      <p>Two data sets must be selected.  Select each from the pull down menu next to <b>Dataset 1</b> or <b>Dataset 2</b>, if the data has already been loaded, or click the Browse button to select a tab-delimited text file for reading.</p>
      <p>Variable selection drop-down menus are used to specify variables on which the merge will be performed.  If no variables are selected, data sets will be merged based on columns that have the same variable name.  However, if the two datasets have different names for the same sample identifier, you can select the variable name from dataset 1 that corresponds to the variable name in dataset 2. </p>
      <p>If the <b>By All</b> check box button is selected for dataset 1, then any row in dataset 1 that does not have a corresponding row in dataset 2 will still be included, with NA (missing value) used for all columns of dataset 2.</p>
      <p>Likewise, if the <b>By All</b> button is selected for dataset 2, then any row in dataset 2 that does not have a corresponding row in dataset 1 will still be included, with NA (missing value) used for all columns of dataset 1.</p>
      <p>The <b>Suffixes</b> are only used if variable selection is used to match dataset <i>and</i> there is a column not used for matching in both dataset 1 and 2 with the same name.  The suffixes would then be appended to the column name to distinguish whether the variable came from dataset 1 or 2.</p>
      <p>Selecting the <b>Sort Output Data</b> check box will sort the rows of the merged dataset according to the columns on which the datasets were matched.  If this option is not checked, then the row order of dataset 1 is preserved, with matched rows coming first, followed by unmatched rows of dataset 1, followed by unmatched rows of dataset 2.</p>
      <p>The merged data set will be saved in CADStat as the name specified in <b>Local Name</b>.  The merged data set can also be written out as a tab-delimited text file if the <b>Save to File</b> button is selected.</p>
      <h1 id="toc5"><span class="SectionNumber"></span>Merge example</h1>
      <p>The following example merges environmental data (<tt>envdata</tt>) and reference site identifiers (<tt>refids</tt>).  Load both of these files from the CADStat data directory (see above).  Then select <i>Tools -&gt; Data Merge</i>. </p>
      <p></p>
      <div style="text-align:center">
          <img alt="Screenshot of the Data Merge dialog page. Dataset 1 has been set to 'envdata.txt' and Dataset 2 has been set to 'refids'. Variable 1 from dataset 1 has been set to 'STRM.ID' and Variable 1 from Dataset 1 has been set to 'SITE.ID'" class="frameGraphics" id="graphics77Cgraphics" src="../img/loaddata-img6.png" style="width:519.984px;height:381.01437px" />
      </div>
      <p></p>
      <p>The sample identifier for <tt>envdata</tt> is <tt>STRM.ID</tt>, while the identifier for <tt>refids</tt> is <tt>SITE.ID</tt>.  Specify each of these in the drop down boxes.  By selecting <b>By All</b> under <tt>envdata</tt>, we ensure that all of the original data records are carried forward into the merged data set.  Records which do not match a record in <tt>refids</tt> are marked with an NA in the fields contained in <tt>refids</tt>.  </p>
      <p>The resulting data set is saved as <tt>mergedData</tt>, which will be used in subsequent examples in these help pages.</p>
      <p></p>
      <p></p>
      <p></p>
    </div>
  </body>
</html>
